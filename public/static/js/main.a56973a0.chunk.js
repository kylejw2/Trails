(this.webpackJsonppresentation=this.webpackJsonppresentation||[]).push([[0],{25:function(e,t,a){e.exports=a(38)},30:function(e,t,a){},31:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),l=a.n(i),c=(a(30),a(31),a(22)),s=a(1),h=a(6),o=a.n(h),u=a(8),v=a(10),d=a(11),p=a(3),m=a(13),f=a(12),C=a(24),w=a(15),b=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={name:n.props.name,length:n.props.length,location:n.props.location,reviews:n.props.reviews},n.url="".concat("/api","/trails/").concat(n.props.id),n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleClick=n.handleClick.bind(Object(p.a)(n)),n.handleClickAddReview=n.handleClickAddReview.bind(Object(p.a)(n)),n.handleChangeReview=n.handleChangeReview.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"handleClick",value:function(e){e.preventDefault();var t=Object.assign({},this.state);this.upsertTrail(t)}},{key:"handleClickAddReview",value:function(e){e.preventDefault();var t=this.state.reviews.concat([""]);this.setState({reviews:t})}},{key:"handleChangeReview",value:function(e,t){var a=this.state.reviews.concat();a[t]=e.target.value,this.setState({reviews:a})}},{key:"deleteReview",value:function(e,t){e.preventDefault();var a=this.state.reviews.concat();a.splice(t,1),this.setState({reviews:a})}},{key:"upsertTrail",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch(this.url,a);case 3:this.props.refresh();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.reviews.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("input",{type:"text",className:"review",placeholder:"Review ".concat(a+1),value:t,onChange:function(t){return e.handleChangeReview(t,a)}}),r.a.createElement("button",{onClick:function(t){return e.deleteReview(t,a)}},"Delete review"))}));return r.a.createElement("form",{className:"upsert-trail"},r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:this.state.name,onChange:this.handleChange}),r.a.createElement("input",{type:"number",name:"length",placeholder:"Length",value:this.state.length,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"location",placeholder:"Location",value:this.state.location,onChange:this.handleChange}),t,r.a.createElement("button",{className:"add-rvw-btn",onClick:this.handleClickAddReview},"Add review"),r.a.createElement("button",{type:"submit",onClick:this.handleClick},"Update trail"))}}]),a}(r.a.Component),g=function(e){var t=Object(n.useState)(!1),a=Object(C.a)(t,2),i=a[0],l=a[1],c=function(){var t=Object(u.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"DELETE"},t.next=3,fetch("".concat("/api","/trails/").concat(e.id),a);case 3:e.refresh();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,e.name,r.a.createElement("i",{className:"fa fa-search-plus",onClick:function(){l((function(e){return!e}))}}),r.a.createElement("i",{className:"fa fa-trash-o",onClick:c})),i?r.a.createElement(b,{name:e.name,id:e.id,length:e.length,location:e.location,reviews:e.reviews,refresh:e.refresh}):"")},k=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={name:"",length:"",location:"",reviews:[""]},n.url="".concat("/api","/trails"),n.handleChangeCreate=n.handleChangeCreate.bind(Object(p.a)(n)),n.handleClickCreate=n.handleClickCreate.bind(Object(p.a)(n)),n.handleClickAddReview=n.handleClickAddReview.bind(Object(p.a)(n)),n.handleChangeReview=n.handleChangeReview.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"handleChangeCreate",value:function(e){this.setState(Object(w.a)({},e.target.name,e.target.value))}},{key:"handleClickCreate",value:function(e){e.preventDefault();var t=Object.assign({},this.state);this.addTrail(t)}},{key:"handleClickAddReview",value:function(e){e.preventDefault();var t=this.state.reviews.concat([""]);this.setState({reviews:t})}},{key:"handleChangeReview",value:function(e,t){var a=this.state.reviews.concat();a[t]=e.target.value,this.setState({reviews:a})}},{key:"deleteReview",value:function(e,t){e.preventDefault();var a=this.state.reviews.concat();a.splice(t,1),this.setState({reviews:a})}},{key:"addTrail",value:function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch(this.url,a);case 3:this.setState({name:"",length:"",location:"",reviews:[]}),this.props.refresh();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.reviews.map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("input",{type:"text",className:"review",placeholder:"Review ".concat(a+1),value:t,onChange:function(t){return e.handleChangeReview(t,a)}}),r.a.createElement("button",{onClick:function(t){return e.deleteReview(t,a)}},"Delete review"))}));return r.a.createElement("form",{className:"add-trail"},r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:this.state.name,onChange:this.handleChangeCreate}),r.a.createElement("input",{type:"number",name:"length",placeholder:"Length",value:this.state.length,onChange:this.handleChangeCreate}),r.a.createElement("input",{type:"text",name:"location",placeholder:"Location",value:this.state.location,onChange:this.handleChangeCreate}),t,r.a.createElement("button",{className:"add-rvw-btn",onClick:this.handleClickAddReview},"Add review"),r.a.createElement("button",{type:"submit",onClick:this.handleClickCreate},"Add new trail"))}}]),a}(r.a.Component),y=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={trails:[]},n.refresh=n.refresh.bind(Object(p.a)(n)),n.url="".concat("/api","/trails"),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.url);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({trails:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.trails.map((function(t){return r.a.createElement(g,{key:t._id,id:t._id,name:t.name,length:t.length,location:t.location,reviews:t.reviews,refresh:e.refresh})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{refresh:this.refresh}),r.a.createElement("ul",null,t))}}]),a}(r.a.Component);var E=function(){return r.a.createElement(c.a,null,r.a.createElement("h1",null,"Must-Hike Trails in Utah"),r.a.createElement(s.a,null,r.a.createElement(y,null)))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.a56973a0.chunk.js.map